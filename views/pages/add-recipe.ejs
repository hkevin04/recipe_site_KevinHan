<%- include('../partials/header') %>

<h1>Add a New Recipe</h1>

<form action="/add-recipe" method="POST">
    <label for="name">Recipe Name:</label>
    <input type="text" id="name" name="name" required>

    <label for="protein_type">Main Protein:</label>
    <select id="protein_type" name="protein_type" required>
        <option value="Chicken">Chicken</option>
        <option value="Beef">Beef</option>
        <option value="Tofu">Tofu</option>
        <option value="Grains">Grains</option>
    </select>

    <label for="instructions">Instructions:</label>
    <textarea id="instructions" name="instructions" rows="5" required></textarea>

    <h3>Ingredients</h3>
    <div id="ingredients-container">
        <div class="ingredient-item">
            <input type="text" name="ingredients[]" placeholder="Ingredient Name" required>
            <input type="text" name="ingredient_info[]" placeholder="Ingredient Info (Optional)">
            <button type="button" class="remove-ingredient">Remove</button>
        </div>
    </div>

    <button type="button" id="add-ingredient">Add Ingredient</button>

    <button type="submit">Add Recipe</button>
</form>

<script>
document.getElementById("add-ingredient").addEventListener("click", function() {
    const container = document.getElementById("ingredients-container");
    const div = document.createElement("div");
    div.classList.add("ingredient-item");
    div.innerHTML = `
        <input type="text" name="ingredients[]" placeholder="Ingredient Name" required>
        <input type="text" name="ingredient_info[]" placeholder="Ingredient Info (Optional)">
        <button type="button" class="remove-ingredient">Remove</button>
    `;
    container.appendChild(div);
});

document.addEventListener("click", function(event) {
    if (event.target.classList.contains("remove-ingredient")) {
        event.target.parentElement.remove();
    }
});
</script>

<%- include('../partials/footer') %>


